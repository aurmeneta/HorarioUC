"use strict";(self.webpackChunkhorario_uc=self.webpackChunkhorario_uc||[]).push([[179],{1292:(e,t,n)=>{var a=n(7294),r=n(745),c=n(5671),s=n(3144),o=n(7326),l=n(9340),i=n(6215),u=n(1120),m=n(7335),d=n(7662),g=n.n(d),p=n(419),f=n(2982),v=n(5861),b=n(4687),h=n.n(b);const E=(0,s.Z)((function e(t,n,a,r){(0,c.Z)(this,e),this.sigla=t,this.horario=r,this.nombre=n,this.secciones=a,this.n_secciones=a.length})),y=function(){function e(t,n,a){(0,c.Z)(this,e),this.sigla=t,this.nombre=n,this.secciones=a.sort((function(e,t){return e.seccion-t.seccion})),this.n_secciones=a.length,this.grupos=this.agruparPorHorario()}return(0,s.Z)(e,[{key:"filtrarPorSecciones",value:function(t){var n=this.secciones.filter((function(e){return t.some((function(t){return t===e.seccion||0===t}))}));return new e(this.sigla,this.nombre,n,n.length)}},{key:"agruparPorHorario",value:function(){for(var e=(0,f.Z)(this.secciones),t=[],n=function(){var n=e.shift(),a=n.horario,r=[];(r=e.filter((function(e){return p.IH.Curso.mismoHorario(n,e)}))).forEach((function(t){return e.splice(e.indexOf(t),1)})),r.unshift(n),t.push(new E(n.sigla,n.nombre,r,a))};e.length>0;)n();return t}}]),e}();var w=["L","M","W","J","V"],S=["08:30","10:00","11:30","14:00","15:30","17:00","18:30","20:00"],x="https://buscacursos.aurmeneta.cl/",N=function(){var e=(0,v.Z)(h().mark((function e(t,n){var a,r,c,s,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.IH.buscarSigla(t,n,x);case 2:if(a=e.sent,0!==(r=a.filter((function(e){return e.sigla===n}))).length){e.next=6;break}return e.abrupt("return",new y(n,"SIN RESULTADOS",[],0));case 6:return c=r[0],s=c.sigla,o=c.nombre,e.abrupt("return",new y(s,o,r));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=window.localStorage;function C(){var e=k.getItem("periodos");return e?e.split(","):["2022-1"]}function R(){return(R=(0,v.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.IH.obtenerPeriodos(x);case 2:t=e.sent,k.setItem("periodos",t.toString());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return k.getItem("periodo_seleccionado")||"2022-1"}var q=n(5697),O=n.n(q);function B(e){var t=e.sigla,n=e.borrarSigla,r=e.seccionesSeleccionadas,c=e.elegirSeccion,s=t.sigla,o=t.grupos,l=t.secciones,i=r[s]||0;return a.createElement("tr",null,a.createElement("td",null,s),a.createElement("td",null,t.nombre),a.createElement("td",null,t.n_secciones),a.createElement("td",null,a.createElement("select",{className:"form-control-sm w-75",name:s,value:i,onChange:c},a.createElement("option",{value:0},"Todas"),l.map((function(e){var t=e.seccion,n=e.profesor;return a.createElement("option",{key:t,value:t},"".concat(t," - ").concat(n.join(", ")))})))),a.createElement("td",null,o.length),a.createElement("td",null,a.createElement("button",{className:"btn btn-danger",type:"button",onClick:function(e){return n(e,t)}},"X")))}B.propTypes={sigla:O().instanceOf(y).isRequired,borrarSigla:O().func.isRequired,elegirSeccion:O().func.isRequired,seccionesSeleccionadas:O().objectOf(O().number).isRequired};const P=B;function I(e){var t=e.siglas,n=e.borrarSigla,r=e.elegirSeccion,c=e.seccionesSeleccionadas;return a.createElement("div",{className:"table-responsive-md"},a.createElement("table",{className:"table table-sm"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Sigla"),a.createElement("th",null,"Nombre"),a.createElement("th",null,"Secciones"),a.createElement("th",null,"Sección"),a.createElement("th",null,"Horarios"),a.createElement("th",null,"Eliminar"))),a.createElement("tbody",null,t.map((function(e){return a.createElement(P,{key:e.sigla,sigla:e,borrarSigla:n,elegirSeccion:r,seccionesSeleccionadas:c})})))))}I.propTypes={siglas:O().arrayOf(O().instanceOf(y)).isRequired,borrarSigla:O().func.isRequired,elegirSeccion:O().func.isRequired,seccionesSeleccionadas:O().objectOf(O().number).isRequired};const T=I;var M=n(4759);function L(){return a.createElement("div",{className:"col"},a.createElement("h3",null,"Ha ocurrido un error y este componente no se ha podido renderizar"))}function D(e){var t=e.children;return a.createElement(M.S,{fallbackUI:L},t)}D.propTypes={children:O().arrayOf(O().element).isRequired};const A=D;function _(e){var t=e.siglas,n=e.borrarSigla,r=e.combinaciones,c=e.elegirSeccion,s=e.seccionesSeleccionadas;return a.createElement("div",{className:"col"},a.createElement("div",{className:"card border-0"},a.createElement("div",{className:"card-body"},a.createElement(A,null,a.createElement("h5",{className:"card-title"},"Tus cursos"),a.createElement(T,{siglas:t,borrarSigla:n,elegirSeccion:c,seccionesSeleccionadas:s}),a.createElement("p",null,"".concat(r.length," combinaciones"))))))}_.propTypes={combinaciones:O().arrayOf(O().arrayOf(O().instanceOf(E))).isRequired,borrarSigla:O().func.isRequired,elegirSeccion:O().func.isRequired,siglas:O().arrayOf(O().instanceOf(y)).isRequired,seccionesSeleccionadas:O().objectOf(O().number).isRequired};const z=_;var H=n(885);function U(e){var t=e.onClick;return e.buscando?a.createElement("button",{className:"btn btn-warning",type:"button"},"Buscando..."):a.createElement("button",{className:"btn btn-success",onClick:t,type:"button"},"Agregar")}U.propTypes={onClick:O().func.isRequired,buscando:O().bool.isRequired};const j=U;function V(e){var t=e.periodo,n=e.buscando,r=e.agregarSigla,c=e.elegirPeriodo,s=(0,a.useState)(""),o=(0,H.Z)(s,2),l=o[0],i=o[1],u=(0,a.useState)(C()),m=(0,H.Z)(u,2),d=m[0],g=m[1];return(0,a.useEffect)((function(){(function(){return R.apply(this,arguments)})().then((function(){return g(C())}))}),[]),a.createElement("form",null,a.createElement("div",{className:"form-group row"},a.createElement("label",{htmlFor:"#periodoInput",className:"col-md-5 col-sm-3 col-form-label"},"Semestre"),a.createElement("div",{className:"col-md-8 col-sm-9 mb-2"},a.createElement("select",{id:"periodoInput",className:"form-select",value:t,onChange:function(e){e.preventDefault(),c(e.target.value)}},d.map((function(e){return a.createElement("option",{key:e,value:e},e)}))))),a.createElement("div",{className:"alert alert-warning col-md-8 col-sm-9"},"Busca solo la sigla del curso, la sección o el profesor lo podrás elegir después."),a.createElement("div",{className:"form-group row"},a.createElement("label",{className:"col-md-5 col-sm-3 col-form-label"},"Sigla"),a.createElement("div",{className:"col-md-8 col-sm-9"},a.createElement("input",{type:"text",name:"sigla",className:"form-control",placeholder:"MAT1620",value:l,onChange:function(e){e.preventDefault(),i(e.target.value.toUpperCase())}}))),a.createElement("div",{className:"mt-2"},a.createElement(j,{onClick:function(e){e.preventDefault(),l&&r(l)},buscando:n})))}V.propTypes={buscando:O().bool.isRequired,agregarSigla:O().func.isRequired,periodo:O().string,elegirPeriodo:O().func},V.defaultProps={periodo:Z(),elegirPeriodo:function(){return null}};const F=V;function J(e){var t=e.errorEnBusqueda;return t?a.createElement("div",{className:"alert alert-danger mt-2 w-auto"},t||""):null}J.propTypes={errorEnBusqueda:O().string.isRequired};const W=J;function G(e){var t=e.agregarSigla,n=e.buscando,r=e.errorEnBusqueda,c=e.periodo,s=e.elegirPeriodo;return a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"card border-0"},a.createElement("div",{className:"card-body"},a.createElement(A,null,a.createElement("h5",{className:"card-title"},"Buscar cursos"),a.createElement(F,{agregarSigla:t,buscando:n,periodo:c,elegirPeriodo:s}),a.createElement(W,{errorEnBusqueda:r})))))}G.propTypes={agregarSigla:O().func.isRequired,buscando:O().bool,errorEnBusqueda:O().string,periodo:O().string,elegirPeriodo:O().func},G.defaultProps={buscando:!1,errorEnBusqueda:"",periodo:Z(),elegirPeriodo:function(){return null}};const X=G;function Y(e){var t=e.index,n=e.dia;return a.createElement("tr",{key:w[t]},a.createElement("td",{key:"99"},S[t]),n.map((function(e){return a.createElement("td",{className:"p-0"},e.length>0?e.map((function(e){return a.createElement("div",{key:e.sigla,className:"".concat(e.tipo)},"".concat(e.sigla,"-").concat(e.secciones.toString()))})):"-")})))}function K(){return a.createElement("tr",null,a.createElement("td",{id:"almuerzo",colSpan:6},"ALMUERZO"))}function Q(e){var t=e.combinacion;if(!t)return a.createElement("p",null,"¡No hay combinación!");for(var n=[],r=0;r<8;r+=1){for(var c=[],s=0;s<w.length;s+=1)c.push([]);n.push(c)}return t.forEach((function(e){var t=e.sigla,a=e.secciones.map((function(e){return e.seccion}));a.sort((function(e,t){return e-t})),e.horario.forEach((function(e){var r=w.indexOf(e.dia),c=e.hora,s=e.tipo;c<1||c>8||"SIN HORARIO"===e.dia||n[c-1][r].push({sigla:t,tipo:s,secciones:a})}))})),a.createElement("div",{className:"col-lg table-responsive"},a.createElement("table",{className:"table table-bordered table-sm text-center",id:"horario"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Módulo"),a.createElement("th",null,"L"),a.createElement("th",null,"M"),a.createElement("th",null,"W"),a.createElement("th",null,"J"),a.createElement("th",null,"V"))),a.createElement("tbody",null,n.map((function(e,t){return 3===t?a.createElement(a.Fragment,{key:"A"},a.createElement(K,{key:"A"}),a.createElement(Y,{key:t,dia:e,index:t})):a.createElement(Y,{key:t,dia:e,index:t})})))))}Y.propTypes={index:O().number.isRequired,dia:O().arrayOf(O().shape({secciones:O().arrayOf(O().number),sigla:O().string,tipo:O().string})).isRequired},Q.propTypes={combinacion:O().arrayOf(O().instanceOf(E)).isRequired};const $=Q;function ee(e){var t=e.grupo,n=e.guardarCursoCupos,r=t.nombre,c=t.sigla,s=(0,f.Z)(t.secciones),o=(s=s.sort((function(e,t){return e.seccion-t.seccion}))).length,l=s.shift();return l?a.createElement(a.Fragment,null,a.createElement("tr",null,a.createElement("td",{rowSpan:o,className:"align-middle"},c),a.createElement("td",{rowSpan:o,className:"align-middle"},r),a.createElement("td",null,l.seccion),a.createElement("td",null,l.nrc),a.createElement("td",null,l.profesor.toLocaleString().replace(",",", ")),a.createElement("td",null,l.vacantes_disponibles),a.createElement("td",null,a.createElement("button",{className:"btn btn-link btn-sm",type:"button","data-bs-toggle":"modal",onClick:function(){return n({nrc:l.nrc,sigla:"".concat(l.sigla,"-").concat(l.seccion),nombre:l.nombre})},"data-bs-target":"#modalCupos"},"Ver cupos"))),s.map((function(e){var t=e.seccion,s=e.nrc,o=e.profesor,l=e.vacantes_disponibles;return a.createElement("tr",{key:t},a.createElement("td",null,t),a.createElement("td",null,s),a.createElement("td",null,o.toLocaleString().replace(",",", ")),a.createElement("td",null,l),a.createElement("td",null,a.createElement("button",{className:"btn btn-link btn-sm","data-bs-toggle":"modal",type:"button",onClick:function(){return n({nrc:s,sigla:"".concat(c,"-").concat(t),nombre:r})},"data-bs-target":"#modalCupos"},"Ver cupos")))}))):a.createElement("p",null,"No hay primera seccion")}ee.propTypes={grupo:O().instanceOf(E).isRequired,guardarCursoCupos:O().func.isRequired};const te=ee;function ne(e){var t=e.combinacion,n=e.guardarCursoCupos;return a.createElement("div",{className:"col-md table-responsive"},a.createElement("table",{className:"table-sm table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Sigla"),a.createElement("th",null,"Nombre"),a.createElement("th",null,"Sección"),a.createElement("th",null,"NRC"),a.createElement("th",null,"Profesor"),a.createElement("th",null,"Cupos disponibles"),a.createElement("th",null,"Detalle cupos"))),a.createElement("tbody",null,t.map((function(e){return a.createElement(te,{key:e.sigla,grupo:e,guardarCursoCupos:n})})))))}ne.propTypes={combinacion:O().arrayOf(O().instanceOf(E)).isRequired,guardarCursoCupos:O().func.isRequired};const ae=ne;var re=function(e){(0,l.Z)(m,e);var t,n,r=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,u.Z)(t);if(n){var r=(0,u.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function m(e){var t;return(0,c.Z)(this,m),(t=r.call(this,e)).state={index:0},t.siguiente=t.siguiente.bind((0,o.Z)(t)),t.anterior=t.anterior.bind((0,o.Z)(t)),t.resetIndex=t.resetIndex.bind((0,o.Z)(t)),t}return(0,s.Z)(m,[{key:"componentDidUpdate",value:function(e){e.combinaciones!==this.props.combinaciones&&this.resetIndex()}},{key:"resetIndex",value:function(){this.setState({index:0})}},{key:"siguiente",value:function(e){var t=this;e.preventDefault(),this.setState((function(e){var n=e.index,a=t.props.combinaciones;return n>=a.length-1?{index:a.length-1}:{index:n+1}}))}},{key:"anterior",value:function(e){e.preventDefault(),this.setState((function(e){var t=e.index;return t>0?{index:t-1}:{}}))}},{key:"render",value:function(){var e=this.props,t=e.combinaciones,n=e.guardarCursoCupos,r=t.length,c=this.state.index;return c>=r&&0!==r?c=r-1:0===r&&0!==c&&(c=0),a.createElement("div",{className:"col"},a.createElement("div",{className:"card border-0"},a.createElement("div",{className:"card-body"},a.createElement(A,null,a.createElement("h5",{className:"card-title"},"Combinación ".concat(c+1)),a.createElement("div",{className:"text-center m-2 btn-group"},a.createElement("button",{className:"btn btn-secondary",onClick:this.anterior,type:"button"},"Anterior"),a.createElement("button",{className:"btn btn-secondary",onClick:this.siguiente,type:"button"},"Siguiente")),0===t.length?a.createElement("p",null,"No hay combinaciones"):a.createElement("div",{className:"row"},a.createElement($,{combinacion:t[c]}),a.createElement(ae,{combinacion:t[c],guardarCursoCupos:n}),a.createElement("br",null))))))}}]),m}(a.Component);re.propTypes={combinaciones:O().arrayOf(O().arrayOf(O().instanceOf(E))).isRequired,guardarCursoCupos:O().func.isRequired};const ce=re;function se(e){var t=e.cupo;return a.createElement("tr",null,a.createElement("td",{className:"ps-3"},t.escuela),a.createElement("td",null,t.vacantesOfrecidas),a.createElement("td",null,t.vacantesOcupadas),a.createElement("th",null,t.vacantesDisponibles))}n(7424),se.propTypes={cupo:O().shape({escuela:O().string,vacantesDisponibles:O().number,vacantesOcupadas:O().number,vacantesOfrecidas:O().number}).isRequired};const oe=se;function le(e){var t=e.cupos;return a.createElement("div",{className:"table-responsive"},a.createElement("table",{className:"table table-sm"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"ps-3"},"Escuela"),a.createElement("th",null,"Vacantes ofrecidas"),a.createElement("th",null,"Vacantes ocupadas"),a.createElement("th",null,"Vacantes libres"))),a.createElement("tbody",null,t.cupos.map((function(e){return a.createElement(oe,{cupo:e,key:e.escuela})})))))}le.propTypes={cupos:O().shape({escuela:O().string,nrc:O().string,cupos:O().arrayOf(O().shape({nrc:O().string,sigla:O().string,vacantesDisponibles:O().number,cupos:O().arrayOf(O().shape({escuela:O().string,vacantesDisponibles:O().number,vacantesOcupadas:O().number,vacantesOfrecidas:O().number}))}))}).isRequired};const ie=le;var ue=function(e){(0,l.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,u.Z)(t);if(n){var r=(0,u.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function o(e){var t;return(0,c.Z)(this,o),(t=r.call(this,e)).state={cupos:{},cargando:!0},t}return(0,s.Z)(o,[{key:"componentDidMount",value:function(){this.obtenerCupos()}},{key:"componentDidUpdate",value:function(e){var t=this.props.curso;e.curso.nrc!==t.nrc&&this.obtenerCupos()}},{key:"obtenerCupos",value:function(){var e=this,t=this.props,n=t.curso,a=t.periodo;n.nrc&&(this.setState({cargando:!0}),function(e,t){return p.vl.obtenerCupos(e,t,"https://buscacursos.aurmeneta.cl/informacionVacReserva.ajax.php")}(a,n.nrc).then((function(t){return e.setState({cupos:t,cargando:!1})})))}},{key:"render",value:function(){var e=this.props.curso,t=this.state,n=t.cargando,r=t.cupos;return n?a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalCupos"},a.createElement("div",{className:"modal-dialog modal-lg modal-dialog-centered"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},"".concat(e.sigla," - ").concat(e.nombre)),a.createElement("button",{className:"btn-close","data-bs-dismiss":"modal",type:"button"},a.createElement("span",null))),a.createElement("div",{className:"modal-body text-center"},a.createElement("div",{className:"spinner-border"},a.createElement("span",{className:"visually-hidden"},"Cargando..."))),a.createElement("div",{className:"modal-footer"},a.createElement("button",{className:"btn btn-secondary","data-bs-dismiss":"modal",type:"button"},"Cerrar"))))):a.createElement("div",{className:"modal",tabIndex:"-1",id:"modalCupos"},a.createElement("div",{className:"modal-dialog modal-lg modal-dialog-centered"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("h5",{className:"modal-title"},"".concat(e.sigla," - ").concat(e.nombre)),a.createElement("button",{className:"btn-close","data-bs-dismiss":"modal",type:"button"},a.createElement("span",null))),a.createElement("div",{className:"modal-body p-0"},a.createElement(ie,{cupos:r})),a.createElement("div",{className:"modal-footer"},a.createElement("button",{className:"btn btn-secondary","data-bs-dismiss":"modal",type:"button"},"Cerrar")))))}}]),o}(a.Component);ue.propTypes={curso:O().shape({nrc:O().string,nombre:O().string,sigla:O().string}),periodo:O().string.isRequired},ue.defaultProps={curso:{nrc:"",sigla:"",nombre:""}};const me=ue,de=function(){return a.createElement("nav",{className:"navbar navbar-light bg-light"},a.createElement("div",{className:"container-fluid text-center"},a.createElement("span",{className:"navbar-text w-100"},"Colabora con este proyecto en"," ",a.createElement("a",{href:"https://github.com/aurmeneta/HorarioUC"},"GitHub")),a.createElement("br",null),a.createElement("span",{className:"w-100 navbar-text"},"v".concat("1.4.0"))))},ge=function(){return a.createElement("nav",{className:"navbar navbar-light bg-light"},a.createElement("div",{className:"container-fluid"},a.createElement("a",{className:"navbar-brand",href:"/"},"HorarioUC")))};function pe(e){var t=e.children;return a.createElement(a.Fragment,null,a.createElement(ge,null),a.createElement("div",{className:"container-fluid"},t),a.createElement(de,null))}pe.propTypes={children:O().arrayOf(O().element).isRequired};const fe=pe;var ve=new(g())({accessToken:"bfe408fa8cd64d81a2c5b0672b4024c2",captureUncaught:!0,captureUnhandledRejections:!0,environment:"production"});const be=function(e){(0,l.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,u.Z)(t);if(n){var r=(0,u.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function d(e){var t,n;return(0,c.Z)(this,d),(t=r.call(this,e)).state={stringSiglas:(n=k.getItem("siglas_guardadas"),n?n.split(","):["IIC1103","MAT1620"]),periodo:Z(),siglas:[],combinaciones:[],seccionesSeleccionadas:{},cambios:!0,buscando:!1,errorEnBusqueda:void 0,choquesPermitidos:new p.nm,cursoCupos:{nrc:"",sigla:"",nombre:""}},t.agregarSigla=t.agregarSigla.bind((0,o.Z)(t)),t.buscarSiglas=t.buscarSiglas.bind((0,o.Z)(t)),t.generarCombinaciones=t.generarCombinaciones.bind((0,o.Z)(t)),t.borrarSigla=t.borrarSigla.bind((0,o.Z)(t)),t.elegirSeccion=t.elegirSeccion.bind((0,o.Z)(t)),t.actualizarStorage=t.actualizarStorage.bind((0,o.Z)(t)),t.guardarCursoCupos=t.guardarCursoCupos.bind((0,o.Z)(t)),t.elegirPeriodo=t.elegirPeriodo.bind((0,o.Z)(t)),t}return(0,s.Z)(d,[{key:"componentDidMount",value:function(){this.buscarSiglas()}},{key:"componentDidUpdate",value:function(){this.buscarSiglas(),this.generarCombinaciones(),this.actualizarStorage()}},{key:"guardarCursoCupos",value:function(e){this.setState({cursoCupos:e})}},{key:"actualizarStorage",value:function(){var e;e=this.state.stringSiglas,k.setItem("siglas_guardadas",e.toString())}},{key:"borrarSigla",value:function(e,t){e.preventDefault();try{gtag("event","del_sigla",{event_category:"siglas",event_label:"borrar sigla",value:t.sigla})}catch(e){ve.warn("Error al publicar analytics ".concat(e.toString()))}this.setState((function(e){var n=e.siglas,a=e.stringSiglas,r=n.indexOf(t),c=a.indexOf(t.sigla);return r>=0&&n.splice(r,1),c>=0&&a.splice(c,1),{siglas:n,cambios:!0}}))}},{key:"agregarSigla",value:function(e){this.setState((function(t){var n=t.stringSiglas;if(!n.includes(e)){n.push(e);try{gtag("event","add_sigla",{event_category:"siglas",event_label:"añadir sigla",value:e})}catch(e){ve.warn("Error al publicar analytics ".concat(e.toString()))}}return{stringSiglas:n,cambios:!0}}))}},{key:"buscarSiglas",value:function(){var e=this,t=this.state,n=t.stringSiglas,a=t.siglas,r=t.buscando,c=t.periodo;if(!r){var s=[];n.forEach((function(e){a.find((function(t){return t.sigla===e}))||s.push(e)})),s.length>0&&(this.setState({buscando:!0,errorEnBusqueda:void 0}),function(e,t){return Promise.all(t.map((function(t){return N(e,t)})))}(c,s).then((function(t){e.setState((function(e){return{siglas:e.siglas.concat(t),cambios:!0,buscando:!1}}))})).catch((function(t){ve.error("Error al buscar nuevas siglas; ".concat(t)),e.setState((function(e){var a=e.stringSiglas;return s.forEach((function(e){return a.splice(a.indexOf(e),1)})),{stringSiglas:n,buscando:!1,errorEnBusqueda:t.toString()}}))})))}}},{key:"elegirPeriodo",value:function(e){this.setState({periodo:e,siglas:[],seccionesSeleccionadas:{},cambios:!0})}},{key:"generarCombinaciones",value:function(){var e=this.state,t=e.siglas,n=e.seccionesSeleccionadas,a=e.cambios,r=e.buscando,c=e.choquesPermitidos;if(a&&!r&&0!==t.length){var s=function(e,t){for(var n=(0,f.Z)(e),a=n.shift().grupos.map((function(e){return[e]})),r=function(){var e=[],r=n.shift();a.forEach((function(n){r.grupos.forEach((function(a){if(n.every((function(e){return p.IH.Curso.horariosCompatibles(a,e,t)}))){var r=(0,f.Z)(n);r.push(a),e.push(r)}}))})),a=e};0!==n.length;)r();return a}(t.map((function(e){var t=n[e.sigla],a=[];return t?a.push(t):a.push(0),e.filtrarPorSecciones(a)})),c);this.setState({combinaciones:s,cambios:!1})}}},{key:"elegirSeccion",value:function(e){e.preventDefault();var t=e.target,n=t.name,a=t.value;this.setState((function(e){var t=e.seccionesSeleccionadas;return t[n]=parseInt(a,10),{seccionesSeleccionadas:t,cambios:!0}}))}},{key:"render",value:function(){var e=this.state,t=e.siglas,n=e.combinaciones,r=e.seccionesSeleccionadas,c=e.buscando,s=e.errorEnBusqueda,o=e.cursoCupos,l=e.periodo;return a.createElement(a.StrictMode,null,a.createElement(m.P,{instance:ve},a.createElement(fe,null,a.createElement(me,{curso:o,periodo:l}),a.createElement("div",{className:"row"},a.createElement(z,{siglas:t,combinaciones:n,borrarSigla:this.borrarSigla,seccionesSeleccionadas:r,elegirSeccion:this.elegirSeccion}),a.createElement(X,{agregarSigla:this.agregarSigla,buscando:c,errorEnBusqueda:s,periodo:l,elegirPeriodo:this.elegirPeriodo})),a.createElement("div",{className:"row"},a.createElement(ce,{combinaciones:n,guardarCursoCupos:this.guardarCursoCupos})))))}}]),d}(a.Component);var he=n(3379),Ee=n.n(he),ye=n(7795),we=n.n(ye),Se=n(569),xe=n.n(Se),Ne=n(3565),ke=n.n(Ne),Ce=n(9216),Re=n.n(Ce),Ze=n(4589),qe=n.n(Ze),Oe=n(5426),Be={};Be.styleTagTransform=qe(),Be.setAttributes=ke(),Be.insert=xe().bind(null,"head"),Be.domAPI=we(),Be.insertStyleElement=Re(),Ee()(Oe.Z,Be),Oe.Z&&Oe.Z.locals&&Oe.Z.locals,n(4039);var Pe=document.getElementById("root");(0,r.s)(Pe).render(a.createElement(be,null))},5426:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),c=n(3645),s=n.n(c)()(r());s.push([e.id,"body, th, td {\n    font-family: Arial, Verdana, Helvetica, sans-serif;\n}\n\ntable {\n    border-collapse: collapse;\n}\n\n.CLAS {\n    background: #fbc575 !important;\n}\n\n.LAB {\n    background: #b3d4f5 !important;\n}\n\n.AYU {\n    background: #99cc99 !important;\n}\n\n.TAL {\n    background: #c7c2f8 !important;\n}\n\n#almuerzo {\n    background: #E7EAF6 !important;\n    letter-spacing: 30px;\n    text-align: center;\n}\n\n#horario {\n    table-layout: fixed;\n}\n",""]);const o=s},2204:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e"},9609:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%2386b7fe%27/%3e%3c/svg%3e"},2469:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},7486:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e"},4144:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e"},175:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z%27/%3e%3c/svg%3e"},2740:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%230c63e4%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},3460:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23212529%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},5647:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z%27/%3e%3c/svg%3e"},1692:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},8214:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27M2 5l6 6 6-6%27/%3e%3c/svg%3e"},8931:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e"},8349:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10l3 3l6-6%27/%3e%3c/svg%3e"},1217:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%280, 0, 0, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},2956:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},9819:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23198754%27 d=%27M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z%27/%3e%3c/svg%3e"}},e=>{e.O(0,[216],(()=>(1292,e(e.s=1292)))),e.O()}]);